(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0iRg":function(F,X,l){F.exports={content:"content___2LkY8",imageWrapper:"imageWrapper___2inid",image:"image___2OvyG",info:"info___1K_jq",title:"title___3-T7N",author:"author___1N4p8","finance-box":"finance-box___380cz","finance-title":"finance-title___1-iU9","finance-price":"finance-price___RNw_B","token-logo":"token-logo___YNblN","finance-num":"finance-num___2q_oi","price-row":"price-row___CxMG5","price-field":"price-field___1qQvx","price-value":"price-value___1kjhk",text:"text___3w3kt","name-row":"name-row___1OPGH","logo-wrap":"logo-wrap___2kRR4",logo:"logo___1rYeW","buy-btn":"buy-btn___2anBJ","token-col":"token-col___1VcYg","amount-col":"amount-col___WM6WI","amount-num":"amount-num___UZNuV",description:"description___3-S1-","des-title":"des-title___3uhSU","des-text":"des-text___16Y8k","item-box":"item-box___2rUi8",item:"item___3pZWc","item-detail":"item-detail___fTAwG",sign:"sign___2h8Tg","item-text":"item-text___13zf3",arrow:"arrow___3Ky7_","item-content":"item-content___1rMxa","property-content":"property-content___4v3vk",collapse:"collapse___BiGs0",expand:"expand___1oT8e","property-item":"property-item___2Aw4v","property-icon":"property-icon___2Y2IU","property-text":"property-text___2744W","detail-list":"detail-list___3BmWN","detail-li":"detail-li___1Nn5o","detail-li-value":"detail-li-value___9IZRv"}},"6TuR":function(F,X,l){F.exports={content:"content___1xFVU","image-col":"image-col___1Wwyj",back:"back___3_lFo",imageWrapper:"imageWrapper___3GYle",image:"image___Nna8E","item-box":"item-box___3Jrhf",item:"item___2f11K","item-detail":"item-detail___2FJPj",sign:"sign___2bu1F","item-text":"item-text___3vk2e",arrow:"arrow___pEqgZ","item-content":"item-content___1Pmbg","property-content":"property-content___5qOoN",collapse:"collapse___3oJ-I",expand:"expand___22Udx","property-item":"property-item___3HV3_","property-icon":"property-icon___37H0L","property-text":"property-text___2joC2","detail-list":"detail-list___3Hfqk","detail-li":"detail-li___1LNGC","detail-li-value":"detail-li-value___3gGDU",info:"info___190FP",title:"title___1slzz",author:"author___2VVHT","finance-box":"finance-box___2vyNQ","finance-title":"finance-title___9C8Fd","finance-price":"finance-price___1HygA","token-logo":"token-logo___1GxDu","finance-num":"finance-num___EWLKY","price-row":"price-row___2xMz5","price-field":"price-field___3G_0W","price-value":"price-value___1RjmB",text:"text___sD8-u","name-row":"name-row___2Onh9","logo-wrap":"logo-wrap___3g1rP",logo:"logo___226ai","buy-btn":"buy-btn___23C44","token-col":"token-col___17Lcg","amount-col":"amount-col___2gEV9","amount-num":"amount-num___xb038",description:"description___3wWMn","des-title":"des-title___2AOuV","des-text":"des-text___2q6ju","input-count":"input-count___mkEDI"}},"CLu+":function(F,X,l){F.exports={modal:"modal___Vn6_u",title:"title___1kx1g",buttonBox:"buttonBox___JlqRb",btn:"btn___2DBa6","disabled-btn":"disabled-btn___1JMZy","approve-btn":"approve-btn___2RMfD","input-box":"input-box___2ouit","input-row":"input-row___3Dbsj","input-count":"input-count___2f3Wu","before-box":"before-box___jq2No",logo:"logo___2hvbJ","token-name":"token-name___2FYBV","after-box":"after-box___2_pLc"}},cfgQ:function(F,X,l){"use strict";l.r(X);var D=l("k1fw"),w=l("9og8"),Va=l("/xke"),he=l("TeRw"),O=l("tJVT"),Ge=l("WmNS"),b=l.n(Ge),h=l("q1tI"),Ce=l("0iz5"),Ye=l("kMsK"),Ke=l("wd/R"),fe=l.n(Ke),Oe=l("9kvl"),Ze=l("IpRq"),Ha=l("cWXX"),Se=l("/ezw"),Ea=l("14J3"),Te=l("BMrR"),$a=l("+L6B"),$=l("2/Rp"),Ja=l("jCWc"),P=l("kPKH"),za=l("tU7J"),M=l("wFql"),je=l("SC9r"),Qe=l("6TuR"),n=l.n(Qe),Ae=l("Boss"),ke=l("6Ngm"),Ga=l("2qtc"),Xe=l("kLXV"),Ya=l("5NDa"),qe=l("5rEg"),ea=l("fWQN"),aa=l("mtLc"),ta=l("yKVA"),na=l("879j"),sa=l("CLu+"),N=l.n(sa),y=l("mNhR"),e=l("nKUr"),Me=M.a.Text,ia=function(be){Object(ta.a)(_,be);var r=Object(na.a)(_);function _(a){var v;return Object(ea.a)(this,_),v=r.call(this,a),v.buy=function(){v.props.needApprove||v.state.buyLoading||(v.setState({buyLoading:!0}),v.props.onCancel(function(){v.setState({buyLoading:!1})}))},v.approve=function(){!v.props.needApprove||v.state.approveLoading||(v.setState({approveLoading:!0}),v.props.approve(function(){v.setState({approveLoading:!1})}))},v.state={buyLoading:!1,approveLoading:!1},v}return Object(aa.a)(_,[{key:"render",value:function(){var v=this.props,U=v.isShow,L=v.onClose,t=v.needApprove,C=v.nft;return Object(e.jsx)(h.Fragment,{children:Object(e.jsxs)(Xe.a,{wrapClassName:"buy-modal",className:N.a.modal,width:480,height:262,title:"Buy Now",visible:U,footer:null,onCancel:L,maskClosable:!1,children:[Object(e.jsx)(Me,{className:N.a.title,children:"Price"}),Object(e.jsx)("div",{className:N.a["input-box"],children:Object(e.jsxs)("div",{className:N.a["input-row"],children:[Object(e.jsxs)("div",{className:N.a["before-box"],children:[Object(e.jsx)(y.a,{type:"icon-logo",className:N.a.logo}),Object(e.jsx)(Me,{className:N.a["token-name"],children:"RACA"})]}),Object(e.jsx)(qe.a,{type:"text",bordered:!1,disabled:!0,className:N.a["input-count"],value:C==null?void 0:C.total_price})]})}),Object(e.jsxs)("div",{className:N.a.buttonBox,children:[Object(e.jsx)($.a,{ghost:!0,loading:this.state.buyLoading,className:N.a.btn+(t?" ".concat(N.a["disabled-btn"]):""),onClick:this.buy,children:"Buy Now"}),Object(e.jsx)($.a,{ghost:!0,loading:this.state.approveLoading,className:"".concat(N.a.btn," ").concat(N.a["approve-btn"]).concat(t?"":" ".concat(N.a["disabled-btn"])),onClick:this.approve,children:"Approve Raca"})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(v){return v.isShow?null:{buyLoading:!1,approvalLoading:!1}}}]),_}(h.Component),We=ia,Be=l("Ff7P"),ye=M.a.Title,xe=M.a.Paragraph,x=M.a.Text;fe.a.suppressDeprecationWarnings=!0;var la=function(r){var _=r.loading,a=r.nft,v=r.buyNFT,U=r.connectWalletVisible,L=r.hideConnectWallet,t=r.imageUrl,C=r.availableCount,q=r.txHash,J=r.buyCount,ee=r.onCountChange,V=r.showBuyModal,ae=r.setShowBuyModal,z=r.needApprove,te=r.setNeedApprove,ne=r.approve,se=r.showConfirmModal,G=r.setShowConfirmModal,ie=r.showWaitModal,le=r.setShowWaitModal,re=r.confirmOk,Y=r.isWaitFinished,oe=r.handleBuy,W=a?a.start_time*1e3-new Date().valueOf():-1,ce=Object(h.useState)(!0),H=Object(O.a)(ce,2),B=H[0],de=H[1],K=Object(h.useState)(!1),E=Object(O.a)(K,2),S=E[0],ue=E[1],Z=function(T){return T?"".concat(T.slice(0,4),"...").concat(T.slice(T.length-3)):""};return Object(e.jsxs)("div",{children:[Object(e.jsx)(Se.a,{loading:_,children:Object(e.jsxs)("div",{className:n.a.content,children:[Object(e.jsxs)("div",{className:n.a["image-col"],children:[Object(e.jsx)("div",{className:n.a.imageWrapper,children:Object(e.jsx)("img",{className:n.a.image,src:t,alt:a==null?void 0:a.name})}),Object(e.jsxs)("div",{className:n.a["item-box"],children:[Object(e.jsxs)("div",{className:n.a.item,children:[Object(e.jsx)(y.a,{type:"icon-properties",className:n.a.sign}),Object(e.jsx)(x,{className:n.a["item-text"],children:"Properties"}),Object(e.jsx)("div",{className:n.a.arrow,style:B?{transform:"rotate(-180deg)"}:{},onClick:function(){de(!B)},children:Object(e.jsx)(y.a,{type:"icon-arrow-down"})})]}),Object(e.jsx)("div",{className:"".concat(n.a["item-content"]," ").concat(n.a["property-content"],"  ").concat(B?n.a.expand:n.a.collapse),children:a==null?void 0:a.properties.map(function(m){return Object(e.jsxs)("div",{className:n.a["property-item"],children:[Object(e.jsx)(y.a,{type:"icon-".concat(m.key.toLowerCase()),className:n.a["property-icon"]}),Object(e.jsx)("div",{className:n.a["property-text"],children:m.value})]},m.key)})}),Object(e.jsxs)("div",{className:"".concat(n.a.item," ").concat(n.a["item-detail"]),children:[Object(e.jsx)(y.a,{type:"icon-details",className:n.a.sign}),Object(e.jsx)(x,{className:n.a["item-text"],children:"Details"}),Object(e.jsx)("div",{className:n.a.arrow,style:S?{transform:"rotate(-180deg)"}:{},onClick:function(){ue(!S)},children:Object(e.jsx)(y.a,{type:"icon-arrow-down"})})]}),Object(e.jsx)("div",{className:"".concat(n.a["item-content"]," ").concat(S?n.a.expand:n.a.collapse),children:Object(e.jsxs)("ul",{className:n.a["detail-list"],children:[Object(e.jsxs)("li",{children:[Object(e.jsx)(x,{className:n.a["detail-li"],children:"contract Address"}),Object(e.jsx)(x,{className:n.a["detail-li-value"],children:Z(a==null?void 0:a.nft_address)})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(x,{className:n.a["detail-li"],children:"Token ID"}),Object(e.jsx)(x,{className:n.a["detail-li-value"],children:a==null?void 0:a.token_id})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(x,{className:n.a["detail-li"],children:"Token Standard"}),Object(e.jsx)(x,{className:n.a["detail-li-value"],children:a==null?void 0:a.token_standard})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(x,{className:n.a["detail-li"],children:"Blockchain"}),Object(e.jsx)(x,{className:n.a["detail-li-value"],children:a==null?void 0:a.block_chain})]})]})})]})]}),Object(e.jsxs)("div",{className:n.a.info,children:[Object(e.jsxs)(ye,{className:n.a.title,children:[a==null?void 0:a.name," #".concat(a==null?void 0:a.token_id)]}),Object(e.jsxs)(xe,{className:"".concat(n.a.text," ").concat(n.a["name-row"]),children:[Object(e.jsx)("span",{className:n.a["logo-wrap"],children:Object(e.jsx)(y.a,{type:"icon-logo",className:n.a.logo})}),Object(e.jsx)(x,{className:n.a.author,children:"Radio Caca"})]}),Object(e.jsxs)(Te.a,{className:n.a["finance-box"],children:[Object(e.jsxs)(P.a,{span:14,children:[Object(e.jsxs)(P.a,{span:24,className:n.a["token-col"],children:[Object(e.jsx)(ye,{className:n.a["finance-title"],level:5,children:"Fixed price"}),Object(e.jsxs)("div",{className:n.a["finance-price"],children:[Object(e.jsx)(y.a,{type:"icon-logo",className:n.a["token-logo"]}),Object(e.jsx)(x,{className:n.a["finance-num"],children:Object(je.d)(a==null?void 0:a.fixed_price)})]}),Object(e.jsxs)(M.a,{className:n.a["price-row"],children:[Object(e.jsx)(x,{className:n.a["price-field"],children:"Total Price: "}),Object(e.jsx)(x,{className:n.a["price-value"],children:"".concat(Object(je.d)(a==null?void 0:a.total_price)," RACA")})]})]}),Object(e.jsxs)(P.a,{span:24,children:[(a==null?void 0:a.status)===0&&Object(e.jsx)($.a,{onClick:function(){return oe()},disabled:(a==null?void 0:a.count)===0||!(a!=null&&a.nft_address)||C===0||W>0,ghost:!0,type:"primary",className:n.a["buy-btn"],children:"Buy Now"}),(a==null?void 0:a.status)===1&&Object(e.jsx)($.a,{ghost:!0,disabled:!0,type:"primary",className:n.a["buy-btn"],children:"Sold out"})]})]}),Object(e.jsxs)(P.a,{span:10,className:n.a["amount-col"],children:[Object(e.jsx)(ye,{className:n.a["finance-title"],level:5,children:"Count"}),Object(e.jsx)(x,{className:"".concat(n.a["finance-num"]," ").concat(n.a["amount-num"]),children:C})]})]}),Object(e.jsxs)("div",{className:n.a.description,children:[Object(e.jsx)(xe,{className:n.a["des-title"],children:"Description"}),Object(e.jsx)(xe,{className:n.a["des-text"],children:a==null?void 0:a.description})]})]})]})}),Object(e.jsx)(Ae.a,{visible:U,onCancel:function(){return L()}}),Object(e.jsx)(ke.a,Object(D.a)(Object(D.a)({isShow:se,onOk:re},r),{},{type:"buy",onCancel:function(){return G(!1)}})),Object(e.jsx)(Be.a,{isShow:ie,isFinished:Y,onCancel:function(){le(!1)},txHash:q}),Object(e.jsx)(We,{isShow:V,count:J,approve:ne,needApprove:z,setNeedApprove:te,onCountChange:ee,onCancel:v,onOk:v,nft:a,onClose:function(){return ae(!1)}})]})},ra=la,oa=l("0iRg"),s=l.n(oa),ge=M.a.Title,Ne=M.a.Paragraph,g=M.a.Text;fe.a.suppressDeprecationWarnings=!0;var ca=function(r){var _=r.loading,a=r.nft,v=r.buyNFT,U=r.connectWalletVisible,L=r.hideConnectWallet,t=r.imageUrl,C=r.availableCount,q=r.txHash,J=r.buyCount,ee=r.onCountChange,V=r.showBuyModal,ae=r.setShowBuyModal,z=r.needApprove,te=r.setNeedApprove,ne=r.approve,se=r.showConfirmModal,G=r.setShowConfirmModal,ie=r.showWaitModal,le=r.setShowWaitModal,re=r.confirmOk,Y=r.isWaitFinished,oe=r.handleBuy,W=a?a.start_time*1e3-new Date().valueOf():-1,ce=Object(h.useState)(!0),H=Object(O.a)(ce,2),B=H[0],de=H[1],K=Object(h.useState)(!1),E=Object(O.a)(K,2),S=E[0],ue=E[1],Z=function(T){return T?"".concat(T.slice(0,4),"...").concat(T.slice(T.length-3)):""};return Object(e.jsxs)("div",{children:[Object(e.jsx)(Se.a,{loading:_,children:Object(e.jsxs)("div",{className:s.a.content,children:[Object(e.jsx)("div",{className:s.a.imageWrapper,children:Object(e.jsx)("img",{className:s.a.image,src:t,alt:a==null?void 0:a.name})}),Object(e.jsxs)("div",{className:s.a.info,children:[Object(e.jsxs)(ge,{className:s.a.title,children:[a==null?void 0:a.name," #".concat(a==null?void 0:a.token_id)]}),Object(e.jsxs)(Ne,{className:"".concat(s.a.text," ").concat(s.a["name-row"]),children:[Object(e.jsx)("span",{className:s.a["logo-wrap"],children:Object(e.jsx)(y.a,{type:"icon-logo",className:s.a.logo})}),Object(e.jsx)(g,{className:s.a.author,children:"Radio Caca"})]}),Object(e.jsxs)(Te.a,{className:s.a["finance-box"],children:[Object(e.jsx)(P.a,{span:17,children:Object(e.jsxs)(P.a,{span:24,className:s.a["token-col"],children:[Object(e.jsx)(ge,{className:s.a["finance-title"],level:5,children:"Fixed price"}),Object(e.jsxs)("div",{className:s.a["finance-price"],children:[Object(e.jsx)(y.a,{type:"icon-logo",className:s.a["token-logo"]}),Object(e.jsx)(g,{className:s.a["finance-num"],children:Object(je.d)(a==null?void 0:a.fixed_price)})]}),Object(e.jsxs)(M.a,{className:s.a["price-row"],children:[Object(e.jsx)(g,{className:s.a["price-field"],children:"Total Price: "}),Object(e.jsx)(g,{className:s.a["price-value"],children:"".concat(Object(je.d)(a==null?void 0:a.total_price)," RACA")})]})]})}),Object(e.jsxs)(P.a,{span:7,className:s.a["amount-col"],children:[Object(e.jsx)(ge,{className:s.a["finance-title"],level:5,children:"Count"}),Object(e.jsx)(g,{className:"".concat(s.a["finance-num"]," ").concat(s.a["amount-num"]),children:C})]}),Object(e.jsxs)(P.a,{span:24,children:[(a==null?void 0:a.status)===0&&Object(e.jsx)($.a,{onClick:function(){return oe()},disabled:(a==null?void 0:a.count)===0||!(a!=null&&a.nft_address)||C===0||W>0,ghost:!0,type:"primary",className:s.a["buy-btn"],children:"Buy Now"}),(a==null?void 0:a.status)===1&&Object(e.jsx)($.a,{ghost:!0,disabled:!0,type:"primary",className:s.a["buy-btn"],children:"Sold out"})]})]}),Object(e.jsxs)("div",{className:s.a["item-box"],children:[Object(e.jsxs)("div",{className:s.a.item,children:[Object(e.jsx)(y.a,{type:"icon-properties",className:s.a.sign}),Object(e.jsx)(g,{className:s.a["item-text"],children:"Properties"}),Object(e.jsx)("div",{className:s.a.arrow,style:B?{transform:"rotate(-180deg)"}:{},onClick:function(){de(!B)},children:Object(e.jsx)(y.a,{type:"icon-arrow-down"})})]}),Object(e.jsx)("div",{className:"".concat(s.a["item-content"]," ").concat(s.a["property-content"]," ").concat(B?s.a.expand:s.a.collapse),children:a==null?void 0:a.properties.map(function(m){return Object(e.jsxs)("div",{className:s.a["property-item"],children:[Object(e.jsx)(y.a,{type:"icon-".concat(m.key.toLowerCase()),className:s.a["property-icon"]}),Object(e.jsx)("div",{className:s.a["property-text"],children:m.value})]},m.key)})}),Object(e.jsxs)("div",{className:"".concat(s.a.item," ").concat(s.a["item-detail"]),children:[Object(e.jsx)(y.a,{type:"icon-details",className:s.a.sign}),Object(e.jsx)(g,{className:s.a["item-text"],children:"Details"}),Object(e.jsx)("div",{className:s.a.arrow,style:S?{transform:"rotate(-180deg)"}:{},onClick:function(){ue(!S)},children:Object(e.jsx)(y.a,{type:"icon-arrow-down"})})]}),Object(e.jsx)("div",{className:"".concat(s.a["item-content"]," ").concat(S?s.a.expand:s.a.collapse),children:Object(e.jsxs)("ul",{className:s.a["detail-list"],children:[Object(e.jsxs)("li",{children:[Object(e.jsx)(g,{className:s.a["detail-li"],children:"contract Address"}),Object(e.jsx)(g,{className:s.a["detail-li-value"],children:Z(a==null?void 0:a.nft_address)})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(g,{className:s.a["detail-li"],children:"Token ID"}),Object(e.jsx)(g,{className:s.a["detail-li-value"],children:a==null?void 0:a.token_id})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(g,{className:s.a["detail-li"],children:"Token Standard"}),Object(e.jsx)(g,{className:s.a["detail-li-value"],children:a==null?void 0:a.token_standard})]}),Object(e.jsxs)("li",{children:[Object(e.jsx)(g,{className:s.a["detail-li"],children:"Blockchain"}),Object(e.jsx)(g,{className:s.a["detail-li-value"],children:a==null?void 0:a.block_chain})]})]})})]}),Object(e.jsxs)("div",{className:s.a.description,children:[Object(e.jsx)(Ne,{className:s.a["des-title"],children:"Description"}),Object(e.jsx)(Ne,{className:s.a["des-text"],children:a==null?void 0:a.description})]})]})]})}),Object(e.jsx)(Ae.a,{visible:U,onCancel:function(){return L()}}),Object(e.jsx)(ke.a,Object(D.a)(Object(D.a)({isShow:se,onOk:re},r),{},{type:"buy",onCancel:function(){return G(!1)}})),Object(e.jsx)(Be.a,{isShow:ie,isFinished:Y,onCancel:function(){le(!1)},txHash:q}),Object(e.jsx)(We,{isShow:V,count:J,approve:ne,needApprove:z,setNeedApprove:te,onCountChange:ee,onCancel:v,onOk:v,nft:a,onClose:function(){return ae(!1)}})]})},da=ca,Fe=l("2SsA"),ua=l("szhI"),va=l("IKbg"),pa=l("/Lec"),we=l("tTNn"),De=l("c+yx"),Pe=l("kaO9");fe.a.suppressDeprecationWarnings=!0;var ma=function(r){var _=r.match.params.id,a=Object(Oe.e)("app"),v=a.isMobile,U=Object(h.useState)(),L=Object(O.a)(U,2),t=L[0],C=L[1],q=Object(h.useState)(!1),J=Object(O.a)(q,2),ee=J[0],V=J[1],ae=Object(h.useState)(0),z=Object(O.a)(ae,2),te=z[0],ne=z[1],se=Object(h.useState)(1),G=Object(O.a)(se,2),ie=G[0],le=G[1],re=Object(h.useState)(!1),Y=Object(O.a)(re,2),oe=Y[0],W=Y[1],ce=Object(h.useState)(!1),H=Object(O.a)(ce,1),B=H[0],de=Object(h.useState)(!1),K=Object(O.a)(de,2),E=K[0],S=K[1],ue=Object(h.useState)(""),Z=Object(O.a)(ue,2),m=Z[0],T=Z[1],ja=Object(h.useState)(0),Le=Object(O.a)(ja,2),ba=Le[0],ha=Le[1],fa=Object(h.useState)(!1),Re=Object(O.a)(fa,2),Oa=Re[0],_e=Re[1],ya=Object(h.useState)(!1),Ie=Object(O.a)(ya,2),xa=Ie[0],ve=Ie[1],ga=Object(h.useState)(!1),Ue=Object(O.a)(ga,2),Na=Ue[0],pe=Ue[1],wa=Object(h.useState)(!1),Ve=Object(O.a)(wa,2),He=Ve[0],_a=Ve[1],Ca=Object(Oe.e)("wallet"),f=Ca.dapp,Q=null,me=function(o){console.error(o),o.code===-32603?he.default.error({message:"Failed",top:100,description:o.data.message,duration:10}):he.default.error({message:"Failed",description:o.message,duration:10,top:100})},Ee=function(){var j=Object(w.a)(b.a.mark(function o(c){var u;return b.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,f.getAllowance(f.currentAccount.address,window.racaAddress,c.sale_address,we,18);case 3:return u=i.sent,console.log("getApprovedState",u-(c==null?void 0:c.total_price)>=0),i.abrupt("return",u-(c==null?void 0:c.total_price)>=0);case 8:return i.prev=8,i.t0=i.catch(0),me(i.t0),i.abrupt("return",!1);case 12:case"end":return i.stop()}},o,null,[[0,8]])}));return function(c){return j.apply(this,arguments)}}(),Sa=function(){var j=Object(w.a)(b.a.mark(function o(c,u){var d;return b.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,f.runContractTransactionFunc(u,Pe.abi,"auctions",c);case 3:return d=p.sent,console.log("order: ",d),p.abrupt("return",d);case 8:return p.prev=8,p.t0=p.catch(0),me(p.t0),p.abrupt("return",{});case 12:case"end":return p.stop()}},o,null,[[0,8]])}));return function(c,u){return j.apply(this,arguments)}}(),$e=Object(Ce.a)(Fe.e,{manual:!0,onSuccess:function(){var j=Object(w.a)(b.a.mark(function c(u){var d,i,p,A,k,R;return b.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return A=u.data,I.next=3,Sa(A.id_in_contract,(A==null?void 0:A.sale_address)||"");case 3:if(k=I.sent,C(Object(D.a)(Object(D.a)({},A),{},{status:k.status})),_a(((d=u.data)===null||d===void 0?void 0:d.token_standard)==="BEP1155"),ne((i=u.data)===null||i===void 0?void 0:i.count),!(f&&(p=u.data)!==null&&p!==void 0&&p.nft_address)){I.next=12;break}return I.next=10,Ee(u.data);case 10:R=I.sent,W(!R);case 12:case"end":return I.stop()}},c)}));function o(c){return j.apply(this,arguments)}return o}()}),Ta=$e.loading,Aa=$e.run,ka=Object(Ce.a)(Fe.c,{manual:!0,onSuccess:function(o){ha(o.data.minAveragePrice)}}),Ma=ka.run;Object(h.useEffect)(function(){f&&Aa(_)},[f]),Object(Ye.a)(function(){Q&&(clearInterval(Q),Q=null)});var Wa=t==null?void 0:t.image_url,Ba=function(){var j=Object(w.a)(b.a.mark(function o(){var c;return b.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("approve"),c=(t==null?void 0:t.total_price)||1,d.next=4,f.approve(window.racaAddress,we,t==null?void 0:t.sale_address,f.parseUnits(c.toString()));case 4:case"end":return d.stop()}},o)}));return function(){return j.apply(this,arguments)}}(),Fa=function(){var j=Object(w.a)(b.a.mark(function o(){var c,u=arguments;return b.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(c=u.length>0&&u[0]!==void 0?u[0]:function(){},!(f&&t!==null&&t!==void 0&&t.nft_address)){i.next=16;break}return i.prev=2,i.next=5,Ba();case 5:return i.next=7,Object(De.a)(6e3);case 7:Q=setInterval(Object(w.a)(b.a.mark(function p(){var A;return b.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Ee(t);case 2:A=R.sent,A&&(clearInterval(Q),Q=null,W(!1),c());case 4:case"end":return R.stop()}},p)})),1500),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(2),me(i.t0),c();case 14:i.next=17;break;case 16:t!=null&&t.nft_address&&V(!0);case 17:case"end":return i.stop()}},o,null,[[2,10]])}));return function(){return j.apply(this,arguments)}}(),Da=function(){if((t==null?void 0:t.owner.toLowerCase())===f.currentAccount.address.toLowerCase()){he.default.warn({message:"Warning",description:"You are the owner of this NFT",duration:10,top:100});return}S(!0)},Je=function(o){return(o==null?void 0:o.nft_address)===window.openBlindBox?pa:(o==null?void 0:o.token_standard)!=="BEP1155"?ua:va},Pa=function(){var j=Object(w.a)(b.a.mark(function o(c){var u;return b.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,f.runContractTransactionFunc(c==null?void 0:c.nft_address,Je(c),"isApprovedForAll",f.currentAccount.address.toLowerCase(),c.sale_address);case 3:return u=i.sent,console.log("getApprovedState",u),i.abrupt("return",u);case 8:return i.prev=8,i.t0=i.catch(0),me(i.t0),i.abrupt("return",!1);case 12:case"end":return i.stop()}},o,null,[[0,8]])}));return function(c){return j.apply(this,arguments)}}(),La=function(){var j=Object(w.a)(b.a.mark(function o(c){var u;return b.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(c!==window.fixedPriceSell&&t)){i.next=7;break}return i.next=3,Pa(t);case 3:if(u=i.sent,!u){i.next=7;break}return i.next=7,f.runContractTransactionFunc(t.nft_address,Je(t),"setApprovalForAll",t.sale_address,!1);case 7:case"end":return i.stop()}},o)}));return function(c){return j.apply(this,arguments)}}(),Ra=function(){var j=Object(w.a)(b.a.mark(function o(){var c,u,d=arguments;return b.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return c=d.length>0&&d[0]!==void 0?d[0]:function(){},p.next=3,La((t==null?void 0:t.sale_address)||"");case 3:if(!(f&&t!==null&&t!==void 0&&t.nft_address)){p.next=11;break}return u=[t==null?void 0:t.nft_address],He&&u.push(t==null?void 0:t.token_id.toString()),p.next=8,Ma.apply(void 0,u);case 8:_e(!0),p.next=12;break;case 11:t!=null&&t.nft_address&&V(!0);case 12:c();case 13:case"end":return p.stop()}},o)}));return function(){return j.apply(this,arguments)}}(),Ia=function(){var j=Object(w.a)(b.a.mark(function o(){var c;return b.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return _e(!1),ve(!0),pe(!1),d.prev=3,d.next=6,f.executeContract(t==null?void 0:t.sale_address,Pe.abi,"executeAuction",[t==null?void 0:t.id_in_contract.toString(),f.parseUnits(((t==null?void 0:t.total_price)||1).toString())]);case 6:if(c=d.sent,c.hash){d.next=11;break}return pe(!0),ve(!1),d.abrupt("return");case 11:return T("".concat(window.bscScanUrl,"/").concat(c.hash)),pe(!0),d.next=15,Object(De.a)(5e3);case 15:S(!1),ve(!1),Oe.a.push("/market-place"),d.next=25;break;case 20:d.prev=20,d.t0=d.catch(3),pe(!0),ve(!1),me(d.t0);case 25:case"end":return d.stop()}},o,null,[[3,20]])}));return function(){return j.apply(this,arguments)}}(),Ua=function(){var j=Object(w.a)(b.a.mark(function o(c){var u,d,i,p;return b.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(console.log("onCountChange"),!f){k.next=10;break}return k.next=4,f.getAllowance(f.currentAccount.address,window.racaAddress,t==null?void 0:t.sale_address,we,18);case 4:u=k.sent,d=(t==null?void 0:t.fixed_price)||1,i=parseInt((c*d).toString(),10),p=parseInt(u,10),i-p>0?W(!0):W(!1),le(c);case 10:case"end":return k.stop()}},o)}));return function(c){return j.apply(this,arguments)}}(),ze={loading:Ta,confirming:B,connectWalletVisible:ee,approve:Fa,buyNFT:Ra,imageUrl:Wa,hideConnectWallet:function(){V(!1)},nft:t,buyCount:ie,onCountChange:Ua,availableCount:te,txHash:m,showBuyModal:E,setShowBuyModal:S,needApprove:oe,setNeedApprove:W,showConfirmModal:Oa,setShowConfirmModal:_e,showWaitModal:xa,setShowWaitModal:ve,isWaitFinished:Na,setIsWaitFinished:pe,confirmOk:Ia,isHomogenization:He,handleBuy:Da,avgPrice:ba};return Object(e.jsx)(Ze.a,{children:v?Object(e.jsx)(da,Object(D.a)({},ze)):Object(e.jsx)(ra,Object(D.a)({},ze))})},Ka=X.default=ma},tTNn:function(F){F.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')}}]);

//# sourceMappingURL=p__MarketPlace__Detail.ce2ca552.async.js.map